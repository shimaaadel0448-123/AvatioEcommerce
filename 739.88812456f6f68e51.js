"use strict";(self.webpackChunkavatio=self.webpackChunkavatio||[]).push([[739],{3739:(F,s,i)=>{i.r(s),i.d(s,{LoginComponent:()=>P});var r=i(4341),m=i(9870),g=i(2881),u=i(8032),d=i.n(u),o=i(1360),c=i(4611),f=i(8472);const _=()=>["/signup"];function E(t,a){1&t&&(o.j41(0,"div"),o.EFF(1,"Email is required"),o.k0s())}function v(t,a){1&t&&(o.j41(0,"div"),o.EFF(1,"Invalid email format"),o.k0s())}function h(t,a){if(1&t&&(o.j41(0,"div",14),o.DNE(1,E,2,0,"div",15)(2,v,2,0,"div",15),o.k0s()),2&t){const n=o.XpG();o.R7$(),o.Y8G("ngIf",null==n.getEmail?null:n.getEmail.hasError("required")),o.R7$(),o.Y8G("ngIf",null==n.getEmail?null:n.getEmail.hasError("email"))}}function p(t,a){1&t&&(o.j41(0,"div"),o.EFF(1,"Password is required"),o.k0s())}function b(t,a){if(1&t&&(o.j41(0,"div",14),o.DNE(1,p,2,0,"div",15),o.k0s()),2&t){const n=o.XpG();o.R7$(),o.Y8G("ngIf",null==n.getPassword?null:n.getPassword.hasError("required"))}}let P=(()=>{class t{fb;router;auth;loginForm;log;constructor(n,l,e){this.fb=n,this.router=l,this.auth=e,this.loginForm=this.fb.group({email:["",[r.k0.required,r.k0.email]],password:["",r.k0.required]})}get getEmail(){return this.loginForm.get("email")}get getPassword(){return this.loginForm.get("password")}onSubmit(){this.loginForm.valid?this.auth.login(this.loginForm.value).subscribe({next:l=>{typeof window<"u"&&localStorage&&localStorage.setItem("token",l.data.tokens.access_token),this.auth.isLogged(),this.showSuccessAlert(),this.router.navigate(["/home"])},error:()=>this.showFailAlert()}):this.loginForm.markAllAsTouched()}showSuccessAlert(){d().fire({icon:"success",title:" registered successfully\u{1f389}",confirmButtonText:"ok"})}showFailAlert(){d().fire({icon:"error",title:" Invalid Email Or Password",confirmButtonText:"ok"})}static \u0275fac=function(l){return new(l||t)(o.rXU(r.ok),o.rXU(c.Ix),o.rXU(f.u))};static \u0275cmp=o.VBU({type:t,selectors:[["app-login"]],decls:25,vars:5,consts:[[1,"formWraber","my-5"],[1,"login-box"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"mb-4"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control"],["type","submit",1,"btn","btn-login","w-100","mb-3"],[1,"text-center"],["routerLinkActive","router-link-active",1,"text-link",3,"routerLink"],["href","#",1,"text-link"],[1,"text-danger"],[4,"ngIf"]],template:function(l,e){1&l&&(o.j41(0,"div",0)(1,"div",1)(2,"h2"),o.EFF(3,"Login To Your Account"),o.k0s(),o.j41(4,"form",2),o.bIt("ngSubmit",function(){return e.onSubmit()}),o.j41(5,"div",3)(6,"label",4),o.EFF(7,"Email"),o.k0s(),o.nrm(8,"input",5),o.DNE(9,h,3,2,"div",6),o.k0s(),o.j41(10,"div",7)(11,"label",8),o.EFF(12,"Password"),o.k0s(),o.nrm(13,"input",9),o.DNE(14,b,2,1,"div",6),o.k0s(),o.j41(15,"button",10),o.EFF(16,"Login"),o.k0s(),o.j41(17,"div",11)(18,"small"),o.EFF(19," Didn't have account yet? "),o.j41(20,"a",12),o.EFF(21," Register now "),o.k0s()(),o.nrm(22,"br"),o.j41(23,"a",13),o.EFF(24,"Forgot Password"),o.k0s()()()()()),2&l&&(o.R7$(4),o.Y8G("formGroup",e.loginForm),o.R7$(5),o.Y8G("ngIf",(null==e.getEmail?null:e.getEmail.touched)&&(null==e.getEmail?null:e.getEmail.invalid)),o.R7$(5),o.Y8G("ngIf",(null==e.getPassword?null:e.getPassword.touched)&&(null==e.getPassword?null:e.getPassword.invalid)),o.R7$(6),o.Y8G("routerLink",o.lJ4(4,_)))},dependencies:[r.X1,r.qT,r.me,r.BC,r.cb,r.j4,r.JD,m.Wk,g.MD,g.bT],styles:[".formWraber[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f172a,#1e293b);background:var(--bg-color);display:flex;align-items:center;justify-content:center;color:#fff;font-family:Segoe UI,sans-serif}.login-box[_ngcontent-%COMP%]{background:var(--bg-color);padding:40px 30px;color:var(--text-color);border-radius:10px;width:100%;max-width:400px;box-shadow:0 10px 30px var(--text-color)}.login-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;text-align:center;margin-bottom:30px}.form-control[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.btn-login[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff;font-weight:500}.btn-login[_ngcontent-%COMP%]:hover{background-color:#1d4ed8}.text-link[_ngcontent-%COMP%]{color:#60a5fa;text-decoration:none}"]})}return t})()}}]);