"use strict";(self.webpackChunkavatio=self.webpackChunkavatio||[]).push([[593],{6593:(F,g,a)=>{a.r(g),a.d(g,{CategoriesComponent:()=>P});var d=a(2881),m=a(9870),_=a(8032),u=a.n(_),l=a(4341),t=a(1360),f=a(5952),C=a(3768);const b=r=>({show:r}),h=r=>[r];function y(r,c){if(1&r&&(t.j41(0,"button",23),t.EFF(1),t.k0s()),2&r){const e=c.$implicit;t.R7$(),t.SpI(" ",e.name," ")}}function v(r,c){if(1&r){const e=t.RV6();t.j41(0,"div",17)(1,"button",18),t.EFF(2),t.j41(3,"i",19),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.toggleCategory(n.id))}),t.k0s()(),t.j41(4,"div",20)(5,"div",21),t.DNE(6,y,2,1,"button",22),t.k0s()()()}if(2&r){const e=c.$implicit,o=t.XpG();t.R7$(2),t.SpI(" ",e.name," "),t.R7$(),t.Y8G("ngClass",o.openedCategory===e.id?"bi-chevron-down":"bi-chevron-right"),t.R7$(),t.Y8G("ngClass",t.eq3(4,b,o.openedCategory===e.id)),t.R7$(2),t.Y8G("ngForOf",o.subCategories)}}function x(r,c){1&r&&(t.j41(0,"div",24)(1,"div",25)(2,"span",26),t.EFF(3,"Loading..."),t.k0s()()())}function M(r,c){if(1&r){const e=t.RV6();t.j41(0,"div",27)(1,"div",28)(2,"p",29),t.EFF(3),t.nI1(4,"currency"),t.k0s(),t.j41(5,"button",30),t.nrm(6,"i",31),t.k0s(),t.nrm(7,"img",32),t.j41(8,"div",33)(9,"button",34)(10,"h5",35),t.EFF(11),t.k0s()(),t.j41(12,"button",36)(13,"p",37),t.EFF(14,"Lorem ipsum dolor sit amet consectetur adipisicing elit.ue excepturi velit vel corrupti perspiciatis aut enim."),t.k0s()()(),t.j41(15,"button",38),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.addToCart(n))}),t.EFF(16,"Quick Add"),t.k0s()()()}if(2&r){const e=c.$implicit,o=t.XpG();t.R7$(3),t.SpI(" ",t.bMT(4,6,e.price),""),t.R7$(3),t.Y8G("ngClass",o.isFav?"bi bi-heart-fill":"bi bi-heart"),t.R7$(),t.FS9("alt",e.title),t.Y8G("src",e.category.image,t.B4B),t.R7$(4),t.JRh(e.category.name),t.R7$(),t.Y8G("routerLink",t.eq3(8,h,`/details/${e.id}`))}}let P=(()=>{class r{products;cartSercice;categories=[];subCategories=[];openedCategory=null;prodctList=[];isLoading=!0;showModal=!1;isFav=!1;favourites=[];maxValue=0;minValue=0;constructor(e,o){this.products=e,this.cartSercice=o}ngOnInit(){this.products.getAllCategories().subscribe({next:e=>{this.categories=e.results},error:e=>console.log(e)}),this.products.getAllSubcategories().subscribe({next:e=>{this.subCategories=e.results},error:e=>console.log(e)}),this.products.getAllProducts().subscribe({next:e=>{this.prodctList=e.data,this.isLoading=!1},error:e=>{console.log(e),this.isLoading=!1}})}toggleCategory(e){this.isLoading=!0,this.prodctList=[],this.openedCategory=e,this.products.getProductsByCategory(e).subscribe({next:o=>{this.prodctList=o.data||[],this.isLoading=!1},error:o=>{console.log(o),this.isLoading=!1}})}addToCart(e){let o=1;u().fire({title:"Choose Quantity",html:`<div style="display:flex;align-items:center;justify-content:center;gap:10px;margin:20px 0;">\n        <button id="decrease" class="swal2-styled" style="padding:0 10px;">-</button>\n        <span id="quantity-value" style="min-width:20px;display:inline-block;">${o}</span>\n        <button id="increase" class="swal2-styled" style="padding:0 10px;">+</button>\n      </div>`,showCancelButton:!0,confirmButtonText:'<i class="fa fa-cart-plus"></i> Add to Cart',didOpen:()=>{const n=u().getPopup(),s=n.querySelector("#quantity-value"),i=n.querySelector("#decrease"),E=n.querySelector("#increase"),p=()=>s.textContent=String(o);i.addEventListener("click",()=>{o>1&&(o--,p())}),E.addEventListener("click",()=>{o++,p()})},preConfirm:()=>o}).then(n=>{n.isConfirmed&&this.cartSercice.addToCart(e.id,n.value).subscribe({next:i=>{u().fire("Added!","Product added to cart successfully.","success")},error:i=>{401==i.status&&u().fire("Error","Please Login First","error")}})})}resetFilter(){this.minValue=0,this.maxValue=1e4,this.products.getAllProducts().subscribe({next:e=>{this.prodctList=e.data,this.isLoading=!1},error:e=>{console.log(e),this.isLoading=!1}})}filterByPrice(e=this.minValue,o=this.maxValue){this.isLoading=!0,this.prodctList=[],this.products.filterByPrice(e,o).subscribe({next:n=>{this.prodctList=n.data||[],this.isLoading=!1},error:n=>{console.error(n),this.isLoading=!1}})}static \u0275fac=function(o){return new(o||r)(t.rXU(f.O),t.rXU(C.m))};static \u0275cmp=t.VBU({type:r,selectors:[["app-categories"]],decls:28,vars:7,consts:[[1,"container"],[1,"row","my-4"],[1,"col-lg-3","my-5","col-md-12","col-sm-12"],[2,"font-weight","700","font-size","20px"],["class","mb-2",4,"ngFor","ngForOf"],[1,"p-4","rounded-3","shadow-sm"],[1,"mb-3","border-bottom","pb-2"],[1,"row"],[1,"col-md-6","col-sm-6","d-flex","flex-column"],[1,"fw-semibold","mb-2"],["type","range","min","0","max","10000",1,"form-range",3,"ngModelChange","input","ngModel"],["type","number","min","0","max","10000",1,"form-control","mt-2",3,"ngModelChange","input","ngModel"],[1,"text-center","my-3"],[1,"btn","btn-dark","px-4","rounded-pill",3,"click"],[1,"col-lg-9","col-md-12","col-sm-12"],["class","d-flex justify-content-center ",4,"ngIf"],["class","col-12 col-sm-6 my-sm-3 col-md-4 col-lg-3 d-flex justify-content-center",4,"ngFor","ngForOf"],[1,"mb-2"],["type","button",1,"btn","d-flex","align-items-center","justify-content-between","w-100",2,"font-weight","600","font-size","16px"],[1,"bi",3,"click","ngClass"],[1,"collapse","mt-2",3,"ngClass"],[1,"card","card-body"],["class","btn","style","font-weight: 400; font-size: 14px;line-height: 25px; display: flex;",4,"ngFor","ngForOf"],[1,"btn",2,"font-weight","400","font-size","14px","line-height","25px","display","flex"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"col-12","col-sm-6","my-sm-3","col-md-4","col-lg-3","d-flex","justify-content-center"],[1,"card","p-2","mt-5",2,"width","18rem"],[1,"card-text","price"],[1,"btn","fav"],[3,"ngClass"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[2,"border","none","all","unset","cursor","pointer"],[1,"card-title",2,"font-weight","bold"],[2,"border","none","all","unset","cursor","pointer",3,"routerLink"],[1,"card-text",2,"color","#828996"],[1,"btn","add","mx-3",3,"click"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t.EFF(4,"Browse Categories"),t.k0s(),t.nrm(5,"hr"),t.DNE(6,v,7,6,"div",4),t.j41(7,"div",5)(8,"h6",6),t.EFF(9,"Filter By Price"),t.k0s(),t.j41(10,"div",7)(11,"div",8)(12,"label",9),t.EFF(13,"Min Price"),t.k0s(),t.j41(14,"input",10),t.mxI("ngModelChange",function(i){return t.DH7(n.minValue,i)||(n.minValue=i),i}),t.bIt("input",function(){return n.filterByPrice()}),t.k0s(),t.j41(15,"input",11),t.mxI("ngModelChange",function(i){return t.DH7(n.minValue,i)||(n.minValue=i),i}),t.bIt("input",function(){return n.filterByPrice()}),t.k0s()(),t.j41(16,"div",8)(17,"label",9),t.EFF(18,"Max Price"),t.k0s(),t.j41(19,"input",10),t.mxI("ngModelChange",function(i){return t.DH7(n.maxValue,i)||(n.maxValue=i),i}),t.bIt("input",function(){return n.filterByPrice(n.maxValue,n.minValue)}),t.k0s(),t.j41(20,"input",11),t.mxI("ngModelChange",function(i){return t.DH7(n.maxValue,i)||(n.maxValue=i),i}),t.bIt("input",function(){return n.filterByPrice()}),t.k0s()()(),t.j41(21,"div",12)(22,"button",13),t.bIt("click",function(){return n.resetFilter()}),t.EFF(23,"Reset Filter"),t.k0s()()()(),t.j41(24,"div",14),t.DNE(25,x,4,0,"div",15),t.j41(26,"div",7),t.DNE(27,M,17,10,"div",16),t.k0s()()()()),2&o&&(t.R7$(6),t.Y8G("ngForOf",n.categories),t.R7$(8),t.R50("ngModel",n.minValue),t.R7$(),t.R50("ngModel",n.minValue),t.R7$(4),t.R50("ngModel",n.maxValue),t.R7$(),t.R50("ngModel",n.maxValue),t.R7$(5),t.Y8G("ngIf",n.isLoading),t.R7$(2),t.Y8G("ngForOf",n.prodctList))},dependencies:[d.MD,d.YU,d.Sq,d.bT,d.oe,m.Wk,l.FK,l.me,l.Q0,l.MR,l.BC,l.VZ,l.zX,l.YN,l.vS],styles:[".rotate[_ngcontent-%COMP%]{transition:transform .3s}.rotate.down[_ngcontent-%COMP%]{transform:rotate(90deg)}.card[_ngcontent-%COMP%]{background-color:var(--bg-color)!important;transition:.3s ease-in-out;-webkit-transition:.3s ease-in-out;-moz-transition:.3s ease-in-out;-ms-transition:.3s ease-in-out;-o-transition:.3s ease-in-out}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:250px}.card[_ngcontent-%COMP%]:hover{transform:scale(1.1);-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1)}.card-body[_ngcontent-%COMP%], .card-text[_ngcontent-%COMP%]{color:var(--text-color)}.price[_ngcontent-%COMP%]{background-color:#979eaa;width:fit-content;padding:5px;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;-o-border-radius:5px}.card-img-top[_ngcontent-%COMP%]{position:relative}.price[_ngcontent-%COMP%]{position:absolute;z-index:1;top:10px;margin-left:5px}.fav[_ngcontent-%COMP%]{color:var(--bg-color)!important;position:absolute;z-index:1;top:10px;right:5px}.add[_ngcontent-%COMP%]{background-color:#4b5563;color:#fff;border-radius:20px;-webkit-border-radius:20px;-moz-border-radius:20px;-ms-border-radius:20px;-o-border-radius:20px;transition:.3s ease-in-out;-webkit-transition:.3s ease-in-out;-moz-transition:.3s ease-in-out;-ms-transition:.3s ease-in-out;-o-transition:.3s ease-in-out}.add[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#334155}h1[_ngcontent-%COMP%]{font-weight:700;font-size:60px;margin:5px}.bi-heart[_ngcontent-%COMP%], .bi-heart-fill[_ngcontent-%COMP%]{color:#000}"]})}return r})()}}]);