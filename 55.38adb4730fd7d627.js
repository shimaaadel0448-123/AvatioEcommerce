"use strict";(self.webpackChunkavatio=self.webpackChunkavatio||[]).push([[55],{7436:(R,d,i)=>{i.r(d),i.d(d,{DetailsComponent:()=>C});var s=i(2881),c=i(4341),m=i(8032),u=i.n(m),t=i(1360),v=i(5952),b=i(4611),f=i(3768),p=i(7643);let h=(()=>{class n{http;baseUrl="/products/api/reviews";constructor(e){this.http=e}getAllReviews(){const e=localStorage.getItem("token"),o=new p.Lr({Authorization:`Bearer ${e}`});return this.http.get(this.baseUrl,{headers:o})}static \u0275fac=function(o){return new(o||n)(t.KVO(p.Qq))};static \u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const F=()=>[1,2,3,4,5];function k(n,a){if(1&n&&(t.j41(0,"div",42),t.nrm(1,"img",43),t.k0s()),2&n){const e=a.$implicit;t.AVh("active",0===a.index),t.R7$(),t.Y8G("src","https://mmy2.pythonanywhere.com"+e,t.B4B)}}function y(n,a){1&n&&(t.qex(0),t.EFF(1,"\u2605"),t.bVm())}function w(n,a){1&n&&(t.qex(0),t.EFF(1,"\u2606"),t.bVm())}function j(n,a){1&n&&(t.qex(0),t.EFF(1,"\u2606"),t.bVm())}function D(n,a){if(1&n&&(t.j41(0,"div",44)(1,"div",45),t.nrm(2,"img",46),t.j41(3,"div",47)(4,"div",48)(5,"h2",49),t.EFF(6),t.k0s(),t.j41(7,"small",50),t.EFF(8),t.nI1(9,"date"),t.k0s()(),t.j41(10,"div",51)(11,"div",51),t.DNE(12,y,2,0,"ng-container",52)(13,w,2,0,"ng-container",53)(14,j,2,0,"ng-container",52),t.k0s()(),t.j41(15,"h6",54),t.EFF(16),t.k0s(),t.j41(17,"p",55),t.EFF(18),t.k0s()()()()),2&n){const e=a.$implicit,o=t.XpG();t.R7$(2),t.Y8G("src",e.user.profile.image,t.B4B),t.R7$(4),t.SpI(" ",e.user.full_name," "),t.R7$(2),t.SpI(" ",t.i5U(9,8,e.updated_at,"medium")," "),t.R7$(4),t.Y8G("ngForOf",o.getFullStars(e.rating)),t.R7$(),t.Y8G("ngIf",o.getHalfStar(e.rating)),t.R7$(),t.Y8G("ngForOf",o.getEmptyStars(e.rating)),t.R7$(2),t.SpI(" ",e.subject," "),t.R7$(2),t.SpI(" ",e.review," ")}}function x(n,a){1&n&&(t.j41(0,"span",56),t.EFF(1," \u2606 "),t.k0s())}function E(n,a){1&n&&(t.j41(0,"button",57),t.EFF(1," YOU MUST PURCHASE THIS PRODUCT TO POST A REVIEW "),t.k0s())}let C=(()=>{class n{productService;route;cartService;review;images=[];productId;productDetails;quantity=1;constructor(e,o,r,l){this.productService=e,this.route=o,this.cartService=r,this.review=l}ngOnInit(){this.productId=this.route.snapshot.paramMap.get("id"),this.loadProductDetails()}loadProductDetails(){this.productService.getAllProductImages(this.productId).subscribe({next:e=>this.images=e.map(o=>o.image),error:e=>console.error(e)}),this.productService.getProductDetails(this.productId).subscribe({next:e=>this.productDetails=e,error:e=>console.error(e)})}decreaseQty(){this.quantity>1&&this.quantity--}increaseQty(){this.quantity++}addToCart(){this.cartService.addToCart(this.productDetails.id,this.quantity).subscribe({next:()=>u().fire("Added!","Product added to cart successfully.","success"),error:e=>{401===e.status&&u().fire("Error","Please Login First","error")}})}getFullStars(e){return Array(Math.floor(e)).fill(0)}getHalfStar(e){return e%1!=0}getEmptyStars(e){return Array(5-Math.ceil(e)).fill(0)}static \u0275fac=function(o){return new(o||n)(t.rXU(v.O),t.rXU(b.nX),t.rXU(f.m),t.rXU(h))};static \u0275cmp=t.VBU({type:n,selectors:[["app-details"]],decls:80,vars:16,consts:[["notPurchased",""],[1,"details"],[1,"container"],[1,"navbar","navbar-dark","bg-custom-dark","p-3","d-flex","justify-content-between"],[1,"d-flex"],[1,"back"],["routerLink","/home",1,"btn","btn-custom-back","me-3"],[1,"row"],[1,"col-lg-5","my-4"],["id","productCarousel","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],["class","carousel-item",3,"active",4,"ngFor","ngForOf"],[1,"col-lg-7","my-4"],[1,"my-4",2,"font-weight","700","font-size","24px"],[1,"my-4",2,"font-weight","600","font-size","20px","color","#374151"],[1,"mb-3"],[1,"text-warning"],[1,"disc"],[1,"d-flex","align-items-center","my-3"],[1,"mr-3",2,"font-weight","600","font-size","18px"],[1,"crease","mr-2",2,"font-weight","600","font-size","18px",3,"click"],[1,"mx-3",2,"font-size","20px","font-style","600"],[1,"crease",3,"click"],[1,"btn","w-100","mt-2",3,"click"],["id","pills-tab","role","tablist",1,"nav","nav-pills","justify-content-center","mb-3"],["role","presentation",1,"nav-item"],["id","desc-tab","data-bs-toggle","pill","data-bs-target","#desc","type","button","role","tab",1,"nav-link","active"],["id","review-tab","data-bs-toggle","pill","data-bs-target","#reviews","type","button","role","tab",1,"nav-link"],["id","pills-tabContent",1,"tab-content","p-3","rounded"],["id","desc","role","tabpanel","aria-labelledby","desc-tab",1,"tab-pane","fade","show","active",2,"line-height","32px"],[2,"border-radius","50%"],["id","reviews","role","tabpanel","aria-labelledby","review-tab",1,"tab-pane","fade"],[1,"row","justify-content-center"],[1,"col-md-12","col-lg-8"],["class","mb-4",4,"ngFor","ngForOf"],[1,"col-md-12","col-lg-4"],[1,"card","p-3","m-3"],[1,"form-label"],["style","cursor:pointer; font-size: 22px;",4,"ngFor","ngForOf"],["type","text","placeholder","Subject","name","subject","required","",1,"form-control"],["rows","3","placeholder","Your Review","name","comment","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100"],[1,"carousel-item"],["loading","lazy","loading","lazy","alt","product image","width","300","height","384",3,"src"],[1,"mb-4"],[1,"card","card-custom","d-flex","m-3","flex-row"],["loading","lazy","width","53","height","53","alt","user",1,"m-3",2,"border-radius","50%",3,"src"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center"],[1,"card-title","mb-2",2,"font-weight","600","font-size","18px"],[1,"text-muted"],[1,"text-warning","mb-2"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"card-title","mb-2",2,"font-weight","600","font-size","16px"],[1,"card-text",2,"font-weight","300","font-size","16px","color","#4b5563"],[2,"cursor","pointer","font-size","22px"],["disabled","",1,"btn","btn-secondary","w-100"]],template:function(o,r){if(1&o){const l=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"nav",3)(3,"div",4)(4,"div",5)(5,"a",6),t.EFF(6,"\u2190 Go Back"),t.k0s()()()(),t.j41(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10),t.DNE(11,k,2,3,"div",11),t.k0s()()(),t.j41(12,"div",12)(13,"h3",13),t.EFF(14),t.k0s(),t.j41(15,"h4",14),t.EFF(16),t.nI1(17,"currency"),t.k0s(),t.j41(18,"div",15)(19,"span",16),t.EFF(20,"\u2605\u2605\u2605\u2605\u2606"),t.k0s(),t.j41(21,"small"),t.EFF(22),t.k0s()(),t.j41(23,"p",17),t.EFF(24),t.k0s(),t.j41(25,"div",18)(26,"strong",19),t.EFF(27,"Quantity:"),t.k0s(),t.j41(28,"button",20),t.bIt("click",function(){return t.eBV(l),t.Njj(r.decreaseQty())}),t.EFF(29,"-"),t.k0s(),t.j41(30,"span",21),t.EFF(31),t.k0s(),t.j41(32,"button",22),t.bIt("click",function(){return t.eBV(l),t.Njj(r.increaseQty())}),t.EFF(33,"+"),t.k0s()(),t.j41(34,"p")(35,"strong"),t.EFF(36,"Category:"),t.k0s(),t.EFF(37),t.k0s(),t.j41(38,"p")(39,"strong"),t.EFF(40,"Brand:"),t.k0s(),t.EFF(41),t.k0s(),t.j41(42,"button",23),t.bIt("click",function(){return t.eBV(l),t.Njj(r.addToCart())}),t.EFF(43,"Add to Cart"),t.k0s()()(),t.j41(44,"ul",24)(45,"li",25)(46,"button",26),t.EFF(47," Description "),t.k0s()(),t.j41(48,"li",25)(49,"button",27),t.EFF(50),t.k0s()()(),t.j41(51,"div",28)(52,"div",29)(53,"p",30),t.EFF(54),t.k0s()(),t.j41(55,"div",31)(56,"div",32)(57,"div",33)(58,"h3",13),t.EFF(59),t.k0s(),t.DNE(60,D,19,11,"div",34),t.k0s(),t.j41(61,"div",35)(62,"div",36)(63,"h4",15),t.EFF(64,"Leave a review"),t.k0s(),t.j41(65,"form")(66,"div",15)(67,"label",37),t.EFF(68,"How do you rate this product?"),t.k0s(),t.nrm(69,"br"),t.j41(70,"span",16),t.DNE(71,x,2,0,"span",38),t.k0s()(),t.j41(72,"div",15),t.nrm(73,"input",39),t.k0s(),t.j41(74,"div",15),t.nrm(75,"textarea",40),t.k0s(),t.j41(76,"button",41),t.EFF(77," Submit Review "),t.k0s()(),t.DNE(78,E,2,0,"ng-template",null,0,t.C5r),t.k0s()()()()()()()}2&o&&(t.R7$(11),t.Y8G("ngForOf",r.images),t.R7$(3),t.JRh(null==r.productDetails?null:r.productDetails.name),t.R7$(2),t.SpI("",t.bMT(17,13,r.productDetails.price)," "),t.R7$(6),t.SpI(" (",null==r.productDetails?null:r.productDetails.reviewrating.length," Reviews)"),t.R7$(2),t.JRh(r.productDetails.description),t.R7$(7),t.JRh(r.quantity),t.R7$(6),t.SpI(" ",r.productDetails.category.name,""),t.R7$(4),t.SpI(" ",r.productDetails.PRDBrand.name,""),t.R7$(9),t.SpI(" Reviews (",null==r.productDetails?null:r.productDetails.reviewrating.length," reviews) "),t.R7$(4),t.SpI(" ",null==r.productDetails?null:r.productDetails.description," "),t.R7$(5),t.SpI('Reviews for "',null==r.productDetails?null:r.productDetails.name,'"'),t.R7$(),t.Y8G("ngForOf",null==r.productDetails?null:r.productDetails.reviewrating),t.R7$(11),t.Y8G("ngForOf",t.lJ4(15,F)))},dependencies:[s.MD,s.Sq,s.bT,s.oe,s.vh,c.YN,c.qT,c.cb,c.cV],styles:[".btn-custom-back[_ngcontent-%COMP%]{padding:5px 15px;font-size:16px;color:var(--text-color)}.back[_ngcontent-%COMP%]{background-color:var(--card-bg);border-radius:10px 0 0 10px;-webkit-border-radius:10px 0 0 10px;-moz-border-radius:10px 0 0 10px;-ms-border-radius:10px 0 0 10px;-o-border-radius:10px 0 0 10px}.disc[_ngcontent-%COMP%]{line-height:32px;font-weight:300;font-size:18px;color:var(--details)}.crease[_ngcontent-%COMP%]{all:unset;display:flex;align-items:center;justify-content:center;width:35px;height:35px;border-radius:50%;background-color:var(--card-bg);color:var(--text-color);font-size:20px;font-weight:700;cursor:pointer;border:1px solid var(--details);border:none;transition:all .2s ease-in-out}.crease[_ngcontent-%COMP%]:hover{background-color:var(--hover);scale:1.1}.w-100[_ngcontent-%COMP%]{background-color:var(--nav-bg);color:var(--text-color)}.w-100[_ngcontent-%COMP%]:hover{scale:1.1}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border-radius:50px;background:var(--card-bg);color:#9ca3af;font-weight:500;margin:0 5px;padding:8px 20px;transition:all .3s ease}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:var(--bg-color);color:#3b82f6;font-weight:600;box-shadow:0 0 10px #3b82f680}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background:var(--bg-color);color:#60a5fa}"]})}return n})()}}]);